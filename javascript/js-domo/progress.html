<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>proress</title>
	<link rel="stylesheet" href="">
</head>
<body>
	<progress id="progress1" value="1" max="100"></progress>

	<button type="primary" onclick="start_run(100)">下载</button>
</body>

<script type="text/javascript">
	function start_run(n) {
		if(n == 0) {
			alert("下载完成")
		}

		var progress1 = document.getElementById("progress1")
		n = n - 1
		cur_task = 100 - n
		progress1.value = cur_task

		setTimeout(() => {
			start_run(n)
		}, 100);
	}
</script>
</html>