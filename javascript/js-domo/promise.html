<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>promise</title>
	<link rel="stylesheet" href="">
</head>
<body>

</body>

<script type="text/javascript">
const url = 'https://img.boqiicdn.com/Data/BK/A/1910/12/imagick34821570848789_y.jpg';
function loadImg(src = '') {
	return new Promise((resolve, reject) => {
		const img = document.createElement('img')
		img.onload = () => {
			resolve(img)
		}

		img.onerror = () => {
			reject(new Error(`加载失败 ${src}`))
		}

		img.src = src
	})
}

loadImg(url).then(img => {
	console.log(img.width)
	return img
}).then(data => {
	console.log(data.height)
	return data
}).catch(err => console.log(err))
</script>
</html>